{"ast":null,"code":"\"use client\";import{useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminTicketList=_ref=>{let{tickets,updateTicketStatus}=_ref;const[updating,setUpdating]=useState(null);// Format date\nconst formatDate=dateString=>{const options={year:\"numeric\",month:\"short\",day:\"numeric\",hour:\"2-digit\",minute:\"2-digit\"};return new Date(dateString).toLocaleDateString(undefined,options);};// Get status badge color\nconst getStatusColor=status=>{switch(status){case\"OPEN\":return\"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300\";case\"IN_PROGRESS\":return\"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300\";case\"CLOSED\":return\"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300\";default:return\"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300\";}};// Handle status change\nconst handleStatusChange=async(ticketId,status)=>{setUpdating(ticketId);const success=await updateTicketStatus(ticketId,status);if(!success){alert(\"Failed to update ticket status\");}setUpdating(null);};if(tickets.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"flex h-40 items-center justify-center rounded-lg border border-dashed border-gray-300 dark:border-gray-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 dark:text-white\",children:\"No tickets found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500 dark:text-gray-400\",children:\"There are no tickets in the system yet.\"})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:tickets.map(ticket=>/*#__PURE__*/_jsxs(\"div\",{className:\"overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm dark:border-gray-700 dark:bg-gray-800\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border-b border-gray-200 bg-gray-50 px-4 py-3 dark:border-gray-700 dark:bg-gray-800\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 dark:text-white\",children:ticket.title}),/*#__PURE__*/_jsx(\"span\",{className:`rounded-full px-2.5 py-0.5 text-xs font-medium ${getStatusColor(ticket.status)}`,children:ticket.status.replace(\"_\",\" \")})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-1 text-sm text-gray-500 dark:text-gray-400\",children:[\"Created by \",ticket.userId.name,\" (\",ticket.userId.email,\") on \",formatDate(ticket.createdAt)]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-700 dark:text-gray-300\",children:ticket.description})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between border-t border-gray-200 bg-gray-50 px-4 py-2 dark:border-gray-700 dark:bg-gray-800\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500 dark:text-gray-400\",children:[\"Ticket ID: \",ticket._id]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"select\",{value:ticket.status,onChange:e=>handleStatusChange(ticket._id,e.target.value),disabled:updating===ticket._id,className:\"rounded-md border border-gray-300 bg-white px-2 py-1 text-xs text-gray-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"OPEN\",children:\"Open\"}),/*#__PURE__*/_jsx(\"option\",{value:\"IN_PROGRESS\",children:\"In Progress\"}),/*#__PURE__*/_jsx(\"option\",{value:\"CLOSED\",children:\"Closed\"})]}),updating===ticket._id&&/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500 dark:text-gray-400\",children:\"Updating...\"})]})]})]},ticket._id))});};export default AdminTicketList;","map":{"version":3,"names":["useState","jsx","_jsx","jsxs","_jsxs","AdminTicketList","_ref","tickets","updateTicketStatus","updating","setUpdating","formatDate","dateString","options","year","month","day","hour","minute","Date","toLocaleDateString","undefined","getStatusColor","status","handleStatusChange","ticketId","success","alert","length","className","children","map","ticket","title","replace","userId","name","email","createdAt","description","_id","value","onChange","e","target","disabled"],"sources":["/home/muaze/mini-project/frontend/src/components/tickets/AdminTicketList.js"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\n\nconst AdminTicketList = ({ tickets, updateTicketStatus }) => {\n  const [updating, setUpdating] = useState(null)\n\n  // Format date\n  const formatDate = (dateString) => {\n    const options = { year: \"numeric\", month: \"short\", day: \"numeric\", hour: \"2-digit\", minute: \"2-digit\" }\n    return new Date(dateString).toLocaleDateString(undefined, options)\n  }\n\n  // Get status badge color\n  const getStatusColor = (status) => {\n    switch (status) {\n      case \"OPEN\":\n        return \"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300\"\n      case \"IN_PROGRESS\":\n        return \"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300\"\n      case \"CLOSED\":\n        return \"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300\"\n      default:\n        return \"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300\"\n    }\n  }\n\n  // Handle status change\n  const handleStatusChange = async (ticketId, status) => {\n    setUpdating(ticketId)\n    const success = await updateTicketStatus(ticketId, status)\n    if (!success) {\n      alert(\"Failed to update ticket status\")\n    }\n    setUpdating(null)\n  }\n\n  if (tickets.length === 0) {\n    return (\n      <div className=\"flex h-40 items-center justify-center rounded-lg border border-dashed border-gray-300 dark:border-gray-700\">\n        <div className=\"text-center\">\n          <h3 className=\"text-lg font-medium text-gray-900 dark:text-white\">No tickets found</h3>\n          <p className=\"mt-1 text-sm text-gray-500 dark:text-gray-400\">There are no tickets in the system yet.</p>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {tickets.map((ticket) => (\n        <div\n          key={ticket._id}\n          className=\"overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm dark:border-gray-700 dark:bg-gray-800\"\n        >\n          <div className=\"border-b border-gray-200 bg-gray-50 px-4 py-3 dark:border-gray-700 dark:bg-gray-800\">\n            <div className=\"flex items-center justify-between\">\n              <h3 className=\"text-lg font-medium text-gray-900 dark:text-white\">{ticket.title}</h3>\n              <span className={`rounded-full px-2.5 py-0.5 text-xs font-medium ${getStatusColor(ticket.status)}`}>\n                {ticket.status.replace(\"_\", \" \")}\n              </span>\n            </div>\n            <p className=\"mt-1 text-sm text-gray-500 dark:text-gray-400\">\n              Created by {ticket.userId.name} ({ticket.userId.email}) on {formatDate(ticket.createdAt)}\n            </p>\n          </div>\n          <div className=\"px-4 py-3\">\n            <p className=\"text-sm text-gray-700 dark:text-gray-300\">{ticket.description}</p>\n          </div>\n          <div className=\"flex items-center justify-between border-t border-gray-200 bg-gray-50 px-4 py-2 dark:border-gray-700 dark:bg-gray-800\">\n            <span className=\"text-xs text-gray-500 dark:text-gray-400\">Ticket ID: {ticket._id}</span>\n            <div className=\"flex items-center space-x-2\">\n              <select\n                value={ticket.status}\n                onChange={(e) => handleStatusChange(ticket._id, e.target.value)}\n                disabled={updating === ticket._id}\n                className=\"rounded-md border border-gray-300 bg-white px-2 py-1 text-xs text-gray-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white\"\n              >\n                <option value=\"OPEN\">Open</option>\n                <option value=\"IN_PROGRESS\">In Progress</option>\n                <option value=\"CLOSED\">Closed</option>\n              </select>\n              {updating === ticket._id && <span className=\"text-xs text-gray-500 dark:text-gray-400\">Updating...</span>}\n            </div>\n          </div>\n        </div>\n      ))}\n    </div>\n  )\n}\n\nexport default AdminTicketList\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}